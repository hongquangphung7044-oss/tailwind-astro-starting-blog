---
import { Image } from "astro:assets";
import FormattedDate from "./FormattedDate.astro";
import Tag from "./Tag.astro";
import Link from "./Link.astro";

const { post, class: className } = Astro.props;
const { title, date, tags, summary, cover, sticky } = post.data; // <--- æå– sticky
---

<article class={className}>
  <div class="space-y-2 xl:grid xl:grid-cols-4 xl:items-baseline xl:space-y-0">
    <dl>
      <dt class="sr-only">Published on</dt>
      <dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400">
        <FormattedDate date={date} />
      </dd>
    </dl>
    <div class="space-y-5 xl:col-span-3">
      <div class="space-y-6">
        <div>
          <h2 class="text-2xl font-bold leading-8 tracking-tight">
            <Link href={`/blog/${post.id}`} class="text-gray-900 dark:text-gray-100">
              {sticky && <span class="text-yellow-500 mr-2" title="ç½®é¡¶æ–‡ç« ">ðŸ“Œ</span>}
              {title}
            </Link>
          </h2>
          <div class="flex flex-wrap">
            {tags.map((tag) => <Tag id={tag} />)}
          </div>
        </div>
        <div class="flex flex-col lg:flex-row">
          {
            cover && (
              <div class="mb-4 flex-shrink-0 lg:mb-0 lg:mr-6">
                <Image
                  src={cover}
                  alt={title}
                  width={300}
                  height={200}
                  class="h-48 w-full rounded-lg object-cover lg:w-64"
                />
              </div>
            )
          }
          <div class="prose max-w-none text-gray-500 dark:text-gray-400">
            {summary}
          </div>
        </div>
      </div>
      <div class="text-base font-medium leading-6">
        <Link
          href={`/blog/${post.id}`}
          class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"
          aria-label={`Read more: "${title}"`}
        >
          Read more &rarr;
        </Link>
      </div>
    </div>
  </div>
</article>
